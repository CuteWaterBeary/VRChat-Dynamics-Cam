# VRChat Dynamics Cam
A small script to help test avatar dynamics in the unity editor.

This was made to work in conjunction with ![Av3Emulator](https://github.com/lyuma/Av3Emulator)

If you run into any issues or have suggestions contact me on discord @SynLogic#5410

## Requirements
![Av3Emulator](https://github.com/lyuma/Av3Emulator) (Used for emulating the playable layers and a lot of other really useful things!)

## Download
Visit the ![releases](https://github.com/synlogic/VRChat-Dynamics-Cam/releases) page for the unitypackage download.

## How to use
Add the script to your main camera or use the included DynamicsCam prefab for a quick setup. ***Ensure you set the focus object.  Use the right click menu in hierchy for a quick way to set the focus***

Ensure Avatar 3.0 Emulator is enabled if you want to use the contact testing functionality.

The settings are completely customizable so edit them to your taste.

ensure the senderPrefab parameter is set to the included prefab.  Edit the prefab to change the contact collision tags to what you need.

As a side note the script disables extra cameras in the scene to avoid interferance with physbone interactions. However, this **doesn't** take affect when uploading an avatar.

***The game view camera moves to where your scene view camera was when you start game mode.***

I recommend turning on gizmos in game view so you can see the size of the reciever sphere colliders generated by this script.

## Main Controls
**WASD** for forward movement, **Q and E** for vertical movement.

**Hold Right click** to rotate the camera.

**R** resets the camera to your set focus.

**F** selects the *root* of your set focus in the hierarchy.

**Hold MouseWheel click/Middle click** spawns a ContactSender prefab at the mouse location (if there is a reciever there) that stays until you let go of the button. 

<img src="https://user-images.githubusercontent.com/26206994/167501339-7fd9ce3c-397c-4d58-875c-bca276d50203.gif" width="500">


**Left Control + Mouse wheel** changes the size of the sphere colliders on the recievers.  ***This is useful for testing proximity contacts.***

<img src="https://user-images.githubusercontent.com/26206994/167501491-0842fa80-8fb8-4d90-a6e6-1961d6acd0fd.gif" width="500">


# Parameters

***Focus*** - 
The focusable object,  right click objects in the Hierarchy tab to set the focus easily. (Set DynamicsCam Focus)

![image](https://user-images.githubusercontent.com/26206994/167499483-f4a471f4-50bb-4821-883a-9b4a850d88c3.png)

***Focus Head*** - Enable to focus on the head instead of root when pressing R.

***Focus Offset*** - Offset of camera (X,Y,Z) to the focus object when pressing R.

***Sender Prefab*** - 
The sender object that is spawned when you middle click the mouse button.

***Min Radius Size*** - 
The minimum size the contact receiver collider radius will be able to be set to.

***Move Speed*** - Speed of the horizontal camera movement (WASD)

***Shift Speed Multiplier*** - Increases the movespeed by the set value when holding down left shift.

***Vertical Speed*** - Speed of the vertical camera movement (QE)

***Rotate Speed*** - Speed of rotation when holding down right click.
